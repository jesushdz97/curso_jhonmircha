{"ast":null,"code":"import { ADD_TO_CART, CLEAR_CART, REMOVE_ALL_FROM_CART, REMOVE_ONE_FROM_CART } from '../actions/shopping.actions';\nexport const shoppingInitialState = {\n  products: [{\n    id: 1,\n    name: 'Camisa Junior Club SA',\n    price: 220000\n  }, {\n    id: 2,\n    name: 'Camisa Deportivo Cali',\n    price: 170000\n  }, {\n    id: 3,\n    name: 'Camisa Atletico Nacional',\n    price: 200000\n  }, {\n    id: 4,\n    name: 'Camisa Millonarios FC',\n    price: 190000\n  }, {\n    id: 5,\n    name: 'Camisa Fortaleza FC',\n    price: 180000\n  }, {\n    id: 6,\n    name: 'Camisa Real Madrid FC',\n    price: 260000\n  }],\n  cart: []\n};\nexport const shoppingReducer = (state, action) => {\n  const {\n    products,\n    cart\n  } = state;\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case ADD_TO_CART:\n      {\n        let productToCart = products.find(product => product.id === payload);\n        let itemInCart = cart.find(product => product.id === payload);\n        return itemInCart ? { ...state,\n          cart: cart.map(item => item.id === payload ? { ...item,\n            quantity: item.quantity + 1\n          } : item)\n        } : { ...state,\n          cart: [...cart, { ...productToCart,\n            quantity: 1\n          }]\n        };\n      }\n\n    case REMOVE_ONE_FROM_CART:\n      {\n        return { ...state,\n          cart: cart.map(item => item.id === payload ? item.quantity > 0 ? { ...item,\n            quantity: item.quantity - 1\n          } : item : item)\n        };\n      }\n\n    case REMOVE_ALL_FROM_CART:\n      {\n        let productToCart = products.find(product => product.id === payload);\n        let itemInCart = cart.find(product => product.id === payload);\n        return itemInCart ? { ...state,\n          cart: cart.map(item => item.id === payload ? { ...item,\n            quantity: item.quantity + 1\n          } : item)\n        } : { ...state,\n          cart: [...cart, { ...productToCart,\n            quantity: 1\n          }]\n        };\n        let newCart = cart.filter(product => product.id !== payload);\n        return { ...state,\n          cart: newCart\n        };\n      }\n\n    case CLEAR_CART:\n      return { ...state,\n        cart: shoppingInitialState.cart\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ADD_TO_CART","CLEAR_CART","REMOVE_ALL_FROM_CART","REMOVE_ONE_FROM_CART","shoppingInitialState","products","id","name","price","cart","shoppingReducer","state","action","type","payload","productToCart","find","product","itemInCart","map","item","quantity","newCart","filter"],"sources":["/home/jesus/Documentos/curso_jhonmircha/src/reducers/shopping.reducer.js"],"sourcesContent":["import {\n  ADD_TO_CART,\n  CLEAR_CART,\n  REMOVE_ALL_FROM_CART,\n  REMOVE_ONE_FROM_CART,\n} from '../actions/shopping.actions'\n\nexport const shoppingInitialState = {\n  products: [\n    { id: 1, name: 'Camisa Junior Club SA', price: 220000 },\n    { id: 2, name: 'Camisa Deportivo Cali', price: 170000 },\n    { id: 3, name: 'Camisa Atletico Nacional', price: 200000 },\n    { id: 4, name: 'Camisa Millonarios FC', price: 190000 },\n    { id: 5, name: 'Camisa Fortaleza FC', price: 180000 },\n    { id: 6, name: 'Camisa Real Madrid FC', price: 260000 },\n  ],\n  cart: [],\n}\n\nexport const shoppingReducer = (state, action) => {\n  const { products, cart } = state\n  const { type, payload } = action\n\n  switch (type) {\n    case ADD_TO_CART: {\n      let productToCart = products.find((product) => product.id === payload)\n      let itemInCart = cart.find((product) => product.id === payload)\n\n      return itemInCart\n        ? {\n            ...state,\n            cart: cart.map((item) =>\n              item.id === payload\n                ? { ...item, quantity: item.quantity + 1 }\n                : item,\n            ),\n          }\n        : { ...state, cart: [...cart, { ...productToCart, quantity: 1 }] }\n    }\n\n    case REMOVE_ONE_FROM_CART: {\n      return {\n        ...state,\n        cart: cart.map((item) =>\n          item.id === payload\n            ? item.quantity > 0\n              ? { ...item, quantity: item.quantity - 1 }\n              : item\n            : item,\n        ),\n      }\n    }\n\n    case REMOVE_ALL_FROM_CART: {\n      let productToCart = products.find((product) => product.id === payload)\n      let itemInCart = cart.find((product) => product.id === payload)\n\n      return itemInCart\n        ? {\n            ...state,\n            cart: cart.map((item) =>\n              item.id === payload\n                ? { ...item, quantity: item.quantity + 1 }\n                : item,\n            ),\n          }\n        : { ...state, cart: [...cart, { ...productToCart, quantity: 1 }] }\n      let newCart = cart.filter((product) => product.id !== payload)\n      return { ...state, cart: newCart }\n    }\n\n    case CLEAR_CART:\n      return { ...state, cart: shoppingInitialState.cart }\n\n    default:\n      return state\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}